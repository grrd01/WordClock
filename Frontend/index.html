<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>grrd s WordClock</title>
    <meta name="description" content="grrd s WordClock is a web WordClock and a user interface for the Wemos Mini D1 Lite Clock">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#444">
    <meta name="apple-mobile-web-app-title" content="WordClock">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" href="styles/app.css">
</head>
<body>
<div id="pageClock" class="page">
    <svg id="clock" viewBox="0 0 115 110" preserveAspectRatio="xMidYMid slice" role="img"
         style="font:6px sans-serif;fill:#555;text-shadow:none;text-anchor:middle;width:100vmin;margin:auto;display:block">
        <text x="07" y="10" class="glow">E</text>
        <text x="17" y="10" class="glow">S</text>
        <text x="27" y="10">D</text>
        <text x="37" y="10" class="glow">I</text>
        <text x="47" y="10" class="glow">S</text>
        <text x="57" y="10" class="glow">C</text>
        <text x="67" y="10" class="glow">H</text>
        <text x="77" y="10">W</text>
        <text x="87" y="10" class="M5">F</text>
        <text x="97" y="10" class="M5">Ü</text>
        <text x="107" y="10" class="M5">F</text>
        <text x="07" y="20" class="M15">V</text>
        <text x="17" y="20" class="M15">I</text>
        <text x="27" y="20" class="M15">E</text>
        <text x="37" y="20" class="M15">R</text>
        <text x="47" y="20" class="M15">T</text>
        <text x="57" y="20" class="M15">U</text>
        <text x="67" y="20">T</text>
        <text x="77" y="20">Y</text>
        <text x="87" y="20" class="M10">Z</text>
        <text x="97" y="20" class="M10">Ä</text>
        <text x="107" y="20" class="M10">Ä</text>
        <text x="07" y="30" class="M20">Z</text>
        <text x="17" y="30" class="M20">W</text>
        <text x="27" y="30" class="M20">Ä</text>
        <text x="37" y="30" class="M20">N</text>
        <text x="47" y="30" class="M20">Z</text>
        <text x="57" y="30" class="M20">G</text>
        <text x="67" y="30">Q</text>
        <text x="77" y="30">D</text>
        <text x="87" y="30" class="MV">V</text>
        <text x="97" y="30" class="MV">O</text>
        <text x="107" y="30" class="MV">R</text>
        <text x="07" y="40">K</text>
        <text x="17" y="40" class="MA">A</text>
        <text x="27" y="40" class="MA">B</text>
        <text x="37" y="40">D</text>
        <text x="47" y="40" class="M30">H</text>
        <text x="57" y="40" class="M30">A</text>
        <text x="67" y="40" class="M30">U</text>
        <text x="77" y="40" class="M30">B</text>
        <text x="87" y="40" class="M30">I</text>
        <text x="97" y="40">T</text>
        <text x="107" y="40">Z</text>
        <text x="07" y="50" class="H1">E</text>
        <text x="17" y="50" class="H1">I</text>
        <text x="27" y="50" class="H1">S</text>
        <text x="37" y="50">Q</text>
        <text x="47" y="50" class="H2">Z</text>
        <text x="57" y="50" class="H2">W</text>
        <text x="67" y="50" class="H2">Ö</text>
        <text x="77" y="50" class="H2">I</text>
        <text x="87" y="50" class="H3">D</text>
        <text x="97" y="50" class="H3">R</text>
        <text x="107" y="50" class="H3">Ü</text>
        <text x="07" y="60">Z</text>
        <text x="17" y="60" class="H4">V</text>
        <text x="27" y="60" class="H4">I</text>
        <text x="37" y="60" class="H4">E</text>
        <text x="47" y="60" class="H4">R</text>
        <text x="57" y="60" class="H4">I</text>
        <text x="67" y="60" class="H5">F</text>
        <text x="77" y="60" class="H5">Ü</text>
        <text x="87" y="60" class="H5">F</text>
        <text x="97" y="60" class="H5">I</text>
        <text x="107" y="60">T</text>
        <text x="07" y="70" class="H6">S</text>
        <text x="17" y="70" class="H6">Ä</text>
        <text x="27" y="70" class="H6">C</text>
        <text x="37" y="70" class="H6">H</text>
        <text x="47" y="70" class="H6">S</text>
        <text x="57" y="70" class="H6">I</text>
        <text x="67" y="70" class="H7">S</text>
        <text x="77" y="70" class="H7">I</text>
        <text x="87" y="70" class="H7">B</text>
        <text x="97" y="70" class="H7">N</text>
        <text x="107" y="70" class="H7">I</text>
        <text x="07" y="80" class="H8">A</text>
        <text x="17" y="80" class="H8">C</text>
        <text x="27" y="80" class="H8">H</text>
        <text x="37" y="80" class="H8">T</text>
        <text x="47" y="80" class="H8">I</text>
        <text x="57" y="80" class="H9">N</text>
        <text x="67" y="80" class="H9">Ü</text>
        <text x="77" y="80" class="H9">N</text>
        <text x="87" y="80" class="H9">I</text>
        <text x="97" y="80">O</text>
        <text x="107" y="80">F</text>
        <text x="07" y="90">C</text>
        <text x="17" y="90" class="H10">Z</text>
        <text x="27" y="90" class="H10">Ä</text>
        <text x="37" y="90" class="H10">N</text>
        <text x="47" y="90" class="H10">I</text>
        <text x="57" y="90" class="H11">E</text>
        <text x="67" y="90" class="H11">U</text>
        <text x="77" y="90" class="H11">F</text>
        <text x="87" y="90" class="H11">I</text>
        <text x="97" y="90">D</text>
        <text x="107" y="90">I</text>
        <text x="07" y="100">O</text>
        <text x="17" y="100">K</text>
        <text x="27" y="100">G</text>
        <text x="37" y="100" class="H12">Z</text>
        <text x="47" y="100" class="H12">W</text>
        <text x="57" y="100" class="H12">Ö</text>
        <text x="67" y="100" class="H12">U</text>
        <text x="77" y="100" class="H12">F</text>
        <text x="87" y="100" class="H12">I</text>
        <text x="97" y="100">J</text>
        <text x="107" y="100">X</text>
        <text x="07" y="110">L</text>
        <text x="17" y="110">Y</text>
        <text x="27" y="110">B</text>
        <text x="37" y="110" class="M1">*</text>
        <text x="47" y="110" class="M2">*</text>
        <text x="57" y="110">P</text>
        <text x="67" y="110" class="M3">*</text>
        <text x="77" y="110" class="M4">*</text>
        <text x="87" y="110">M</text>
        <text x="97" y="110">K</text>
        <g stroke="#555" fill="none" stroke-width="0.7">
            <path d="M 106 109.8 Q 106 106.4 109.4 106.4"/>
            <path d="M 107.2 109.8 Q 107.2 107.8 109.4 107.8"/>
        </g>
        <circle cx="108.8" cy="109.5" r="0.6" fill="#555"/>
    </svg>
    <svg id="settings" class="svgButton" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 74 74">
        <path d="M30 3 A 37 37 0 0 1 44 3 L 44 13 A 25 25 0 0 1 54.5 20 L 63 14 A 37 37 0 0 1 70 25.5 L 61 31 A 25 25 0 0 1 61 42.5 L 70 48.5 A 37 37 0 0 1 63 60 L 54.5 54 A 25 25 0 0 1 44 61 L 44 71 A 37 37 0 0 1 30 71 L 30 61 A 25 25 0 0 1 19.5 54 L 11 60 A 37 37 0 0 1 4 48.5 L 13 42.5 A 25 25 0 0 1 13 31 L 4 25.5 A 37 37 0 0 1 11 14 L 19.5 20 A 25 25 0 0 1 30 13 Z"/>
        <circle cx="37" cy="37" r="12"/>
    </svg>
</div>
<div id="pageSettings" class="page">
    <div class="pageContent">
        <div class="pageHead">
            <svg id="clock" viewBox="5 0 110 30" preserveAspectRatio="xMidYMid slice" role="img"
                 style="font:6px sans-serif;fill:#555;text-shadow:none;text-anchor:middle;width:100%">
                <text x="07" y="10">E</text>
                <text x="17" y="10">W</text>
                <text x="27" y="10">F</text>
                <text x="37" y="10" class="glow">G</text>
                <text x="47" y="10" class="glow">R</text>
                <text x="57" y="10" class="glow">R</text>
                <text x="67" y="10" class="glow">D</text>
                <text x="77" y="10">C</text>
                <text x="87" y="10" class="glow">S</text>
                <text x="97" y="10">A</text>
                <text x="107" y="10">J</text>
                <text x="07" y="20">N</text>
                <text x="17" y="20" class="glow">W</text>
                <text x="27" y="20" class="glow">O</text>
                <text x="37" y="20" class="glow">R</text>
                <text x="47" y="20" class="glow">D</text>
                <text x="57" y="20">U</text>
                <text x="67" y="20" class="glow">C</text>
                <text x="77" y="20" class="glow">L</text>
                <text x="87" y="20" class="glow">O</text>
                <text x="97" y="20" class="glow">C</text>
                <text x="107" y="20" class="glow">K</text>
            </svg>
        </div>
        <div class="pageBody"><label for="color">Weli Farb wosch?</label><input type="color" id="color" name="head"
                                                                                value="#ffffff"></div>
        <div class="pageBody"><label for="color">Cha mi nid entscheide. Chli vo auem.</label>
            <svg id="rainbowMode" class="svgButton" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70">
                <path transform="scale(0.9) translate(5,5)"
                      d="M10 20 L20 10 L35 25 L50 10 L60 20 L45 35 L60 50 L50 60 L35 45 L20 60 L10 50 L25 35 L10 20 Z"/>
                <path class="hide" transform="scale(0.85) translate(5,5)"
                      d="M0 40 L10 30 L20 40 L50 10 L60 20 L20 60 L0 40 Z"/>
            </svg>
        </div>
        <div class="pageBody"><label for="color">Ir Nacht chli weniger häu.</label>
            <svg id="darkMode" class="svgButton" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70">
                <path class="hide" transform="scale(0.9) translate(5,5)"
                      d="M10 20 L20 10 L35 25 L50 10 L60 20 L45 35 L60 50 L50 60 L35 45 L20 60 L10 50 L25 35 L10 20 Z"/>
                <path transform="scale(0.85) translate(5,5)" d="M0 40 L10 30 L20 40 L50 10 L60 20 L20 60 L0 40 Z"/>
            </svg>
        </div>
        <div class="pageFooter"><p class="popup-content">Handgmachti Software us Bärn</p>
            <p class="popup-content">Gérard Tyedmers -<a href="https://grrd.ch">grrd.ch</a>-<a
                    href="mailto:grrd@gmx.net">grrd@gmx.net</a></p></div>
        <svg id="settingsClose" class="svgButton" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70">
            <path transform="scale(0.85) translate(5,5)" d="M0 40 L10 30 L20 40 L50 10 L60 20 L20 60 L0 40 Z"/>
        </svg>
    </div>
</div>
<script>{
    let a, l, d, o = 1, c = 0, n = 255, i = 0, r = 0;
    const g = document.getElementById("clock"), m = document.getElementById("pageClock"),
        u = document.getElementById("pageSettings"), L = document.getElementById("color");

    function e(e) {
        document.styleSheets[0].cssRules[3].style.fill = e, document.styleSheets[0].cssRules[3].style.textShadow = "0 0 10px " + e, document.getElementsByTagName("a")[0].style.color = e, document.getElementsByTagName("a")[1].style.color = e
    }

    function t(t) {
        t !== c && (document.getElementById("rainbowMode").children[0].classList.toggle("hide"), document.getElementById("rainbowMode").children[1].classList.toggle("hide")), c = t, c || e(L.value)
    }

    function s(e) {
        e !== o && (document.getElementById("darkMode").children[0].classList.toggle("hide"), document.getElementById("darkMode").children[1].classList.toggle("hide")), o = e
    }

    setInterval((function () {
        a = new Date, l = a.getHours() % 12, c && (n && !r ? (n -= 1, i += 1) : i ? (i -= 1, r += 1) : (r -= 1, n += 1), e("rgb(" + n + ", " + i + ", " + r + ")")), o && (a.getHours() >= 22 || a.getHours() < 7) ? document.getElementsByTagName("body")[0].classList.add("dark") : document.getElementsByTagName("body")[0].classList.remove("dark"), d !== a.getMinutes() && (d = a.getMinutes(), g.classList.remove(...g.classList), d >= 55 ? g.classList.add("M5", "MV") : d >= 50 ? g.classList.add("M10", "MV") : d >= 45 ? g.classList.add("M15", "MV") : d >= 40 ? g.classList.add("M20", "MV") : d >= 35 ? g.classList.add("M5", "MA", "M30") : d >= 30 ? g.classList.add("M30") : d >= 25 ? g.classList.add("M5", "MV", "M30") : d >= 20 ? g.classList.add("M20", "MA") : d >= 15 ? g.classList.add("M15", "MA") : d >= 10 ? g.classList.add("M10", "MA") : d >= 5 && g.classList.add("M5", "MA"), d >= 25 && (l += 1), g.classList.add("H" + l.toString()), g.classList.add("M" + (d % 5).toString()))
    }), 100), document.getElementById("settings").addEventListener("click", (function () {
        document.activeElement.blur(), m.classList.remove("swipe-out-right"), u.classList.remove("swipe-in-left"), m.classList.add("swipe-out"), u.classList.add("swipe-in")
    })), document.getElementById("settingsClose").addEventListener("click", (function () {
        let e = parseInt(L.value.substring(1, 3), 16), t = parseInt(L.value.substring(3, 5), 16),
            s = parseInt(L.value.substring(5, 7), 16);
        m.classList.remove("swipe-out"), u.classList.remove("swipe-in"), m.classList.add("swipe-out-right"), u.classList.add("swipe-in-left"), localStorage.setItem("wc_color", L.value), localStorage.setItem("wc_rainbow", c), localStorage.setItem("wc_darkmode", o), setTimeout((function () {
            window.location.search = "&red=" + e + "&green=" + t + "&blue=" + s + "&rainbow=" + c + "&darkmode=" + o
        }), 500)
    })), document.getElementById("color").addEventListener("change", t => {
        e(L.value)
    }, !1), document.getElementById("rainbowMode").addEventListener("click", e => {
        t(1 - c)
    }), document.getElementById("darkMode").addEventListener("click", e => {
        s(1 - o)
    }), localStorage.getItem("wc_color") && (L.value = localStorage.getItem("wc_color"), e(L.value)), localStorage.getItem("wc_rainbow") && t(parseInt(localStorage.getItem("wc_rainbow"))), localStorage.getItem("wc_darkmode") && s(parseInt(localStorage.getItem("wc_darkmode")))
}</script>
</body>
</html>

